/* Neue Haas Grotesk Display Pro Font Import */
/* Note: For production, consider self-hosting the font files */
@import url('https://fonts.cdnfonts.com/css/neue-haas-grotesk-display-pro');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   JSI VISUAL IDENTITY STYLES
   Typography: Neue Haas Grotesk Display Pro
   Primary Color: Warm Charcoal #4A4543 (softer than stark #353535)
   Background: Warm Beige #F0EDE8
   ============================================ */

:root {
    --app-height: 100vh;
    --safe-area-inset-top: env(safe-area-inset-top);
    --safe-area-inset-right: env(safe-area-inset-right);
    --safe-area-inset-bottom: env(safe-area-inset-bottom);
    --safe-area-inset-left: env(safe-area-inset-left);
    
    /* JSI Brand Colors */
    --jsi-charcoal: #353535;
    --jsi-warm-charcoal: #4A4543;   /* Softer accent - warm brown-grey */
    --jsi-white: #FFFFFF;
    --jsi-stone: #E3E0D8;
    --jsi-warm-beige: #F0EDE8;
    --jsi-sage-grey: #DFE2DD;
    --jsi-light-grey: #EAECE9;
    
    /* JSI Semantic Colors */
    --jsi-success: #4A7C59;
    --jsi-warning: #C4956A;
    --jsi-error: #B85C5C;
    --jsi-info: #5B7B8C;
    
    /* JSI Typography */
    --jsi-font-family: 'Neue Haas Grotesk Display Pro', 'Helvetica Neue', Helvetica, Arial, sans-serif;
    
    /* JSI Border Radius */
    --jsi-radius-pill: 9999px;
    --jsi-radius-card: 24px;
    --jsi-radius-input: 24px;
    
    /* JSI Blur Effects */
    --jsi-blur-light: blur(24px);
    --jsi-blur-medium: blur(34px);
    --jsi-blur-heavy: blur(44px);
}

@supports(height:100dvh) {
    :root { --app-height: 100dvh; }
}

html, body { 
    height: var(--app-height); 
    margin: 0; 
    padding: 0; 
    overflow: hidden; 
    font-family: var(--jsi-font-family);
    -webkit-text-size-adjust: 100%; 
    -webkit-font-smoothing: antialiased; 
    -moz-osx-font-smoothing: grayscale; 
    background-color: var(--jsi-warm-beige);
    color: var(--jsi-charcoal);
}

/* iOS PWA Status Bar - extend background to safe area */
@supports (padding-top: env(safe-area-inset-top)) {
    html {
        padding-top: env(safe-area-inset-top);
        background-color: var(--jsi-warm-beige);
    }
    
    body::before {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        height: env(safe-area-inset-top);
        background-color: var(--jsi-warm-beige);
        z-index: 9999;
    }
}

#root { 
    height: var(--app-height); 
    width: 100%; 
    overflow: hidden; 
    background-color: inherit; 
}

/* JSI Heading Styles - Bold, Confident */
h1, h2, h3, h4, h5, h6 {
    font-family: var(--jsi-font-family);
    color: var(--jsi-charcoal);
    letter-spacing: -0.02em;
}

h1 { font-weight: 700; }
h2 { font-weight: 700; }
h3 { font-weight: 600; }
h4 { font-weight: 600; }
h5 { font-weight: 600; }
h6 { font-weight: 600; }

/* JSI Button Base Styles */
button {
    font-family: var(--jsi-font-family);
}

.scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
.scrollbar-hide::-webkit-scrollbar { display: none; }
.pb-safe { padding-bottom: calc(6rem + var(--safe-area-inset-bottom)); }

@supports (-webkit-appearance:none) {
    .h-screen-safe { height: var(--app-height) !important; min-height: var(--app-height) !important; }
    .pt-safe { padding-top: var(--safe-area-inset-top); }
    .pb-safe-bottom { padding-bottom: var(--safe-area-inset-bottom); }
}

* { -webkit-tap-highlight-color: transparent; }

.animated-screen-container, .animated-screen-container * { 
    -webkit-backface-visibility: hidden; 
    backface-visibility: hidden; 
    -webkit-perspective: 1000px; 
    perspective: 1000px; 
}

.animate-fade-in { animation: fadeIn .2s ease-out forwards; }
@keyframes fadeIn { from { opacity: 0; transform: translateY(-8px) } to { opacity: 1; transform: translateY(0) } }
@keyframes slideUp { from { transform: translateY(100%); opacity: 0 } to { transform: translateY(0); opacity: 1 } }
@keyframes slideDown { from { transform: translateY(0); opacity: 1 } to { transform: translateY(100%); opacity: 0 } }
.cart-drawer-enter { animation: slideUp .3s ease-out forwards }
.cart-drawer-exit { animation: slideDown .3s ease-out forwards }

/* Enhanced success toast animations */
@keyframes toastIn { 0% { opacity: 0; transform: translate(-50%, -8px) scale(.95); } 60% { opacity: 1; transform: translate(-50%, 2px) scale(1.02); } 100% { opacity: 1; transform: translate(-50%, 0) scale(1); } }
@keyframes toastOut { 0% { opacity: 1; transform: translate(-50%,0) scale(1); } 100% { opacity: 0; transform: translate(-50%,-6px) scale(.92); } }
@keyframes toastPulse { 0% { opacity: .35; transform: scale(.6); } 70% { opacity: 0; transform: scale(1.4); } 100% { opacity: 0; transform: scale(1.5); } }
.success-toast-enter { animation: toastIn .26s cubic-bezier(.34,1.56,.64,1); }
.success-toast-exit { animation: toastOut .24s ease forwards; }
.toast-pulse { background: radial-gradient(circle at center, rgba(53,53,53,.12), transparent 70%); animation: toastPulse 1.1s ease-out forwards; }

/* JSI Focus Ring - uses Charcoal */
.focus-ring { transition: box-shadow .2s ease-in-out }
.focus-ring:focus { outline: none; box-shadow: 0 0 0 3px rgba(53,53,53,.2) }

select { 
    background-image: none !important; 
    cursor: pointer;
    font-family: var(--jsi-font-family);
}
select::-ms-expand { display: none }
select option { background-color: var(--jsi-white); color: var(--jsi-charcoal); padding: 8px }
.dark select option, [data-theme="dark"] select option { background-color: #252525; color: #F5F5F5 }

div[class*="z-[9999]"], div[class*="z-[10000]"], .dropdown-container { z-index: 9999 !important }
div[class*="z-[10000]"] > div[class*="rounded-2xl"], div[class*="z-[9999]"] > div[class*="rounded"] { background-color: var(--jsi-white) !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
.dark div[class*="z-[10000]"] > div[class*="rounded-2xl"], [data-theme="dark"] div[class*="z-[10000]"] > div[class*="rounded-2xl"], .dark div[class*="z-[9999]"] > div[class*="rounded"], [data-theme="dark"] div[class*="z-[9999]"] > div[class*="rounded"] { background-color: #252525 !important; color: #F5F5F5 !important; }
.dropdown-container { background: inherit !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; }
.autocomplete-dropdown { background-color: var(--dropdown-bg, var(--jsi-white)) !important; backdrop-filter: none !important; -webkit-backdrop-filter: none !important; border: 1.5px solid var(--dropdown-border, var(--jsi-stone)) !important; }
.cart-drawer { box-shadow: 0 -4px 20px rgba(53,53,53,.1); backdrop-filter: var(--jsi-blur-light); -webkit-backdrop-filter: var(--jsi-blur-light); }

/* JSI Sample Card Hover Effects */
.sample-card { transition: all .25s cubic-bezier(.4,0,.2,1) }
.sample-card:hover { transform: translateY(-3px); box-shadow: 0 12px 32px rgba(53,53,53,.12) }
.sample-card:active { transform: translateY(0); transition-duration: .1s }

.material-tab-container { position: relative; background: var(--jsi-white); border-radius: var(--jsi-radius-card); overflow: hidden; box-shadow: 0 2px 8px rgba(53,53,53,.05) }
.material-tab { position: relative; padding: 12px 16px; font-weight: 600; font-size: .875rem; white-space: nowrap; transition: all .2s cubic-bezier(.4,0,.2,1); cursor: pointer; border: none; background: none; outline: none; font-family: var(--jsi-font-family); }
.material-tab:hover { background: rgba(53,53,53,.03) }
.material-tab.active { color: var(--jsi-charcoal) }
.material-tab-underline { position: absolute; bottom: 0; left: 0; height: 2px; background: var(--jsi-charcoal); transition: all .3s cubic-bezier(.4,0,.2,1); border-radius: 1px 1px 0 0 }

/* JSI Pill-Shaped Set Buttons */
.set-button { 
    flex: 1; 
    padding: 14px 20px; 
    border-radius: var(--jsi-radius-pill); 
    font-weight: 600; 
    font-size: .875rem; 
    transition: all .25s cubic-bezier(.4,0,.2,1); 
    border: 1.5px solid var(--jsi-charcoal); 
    display: flex; 
    align-items: center; 
    justify-content: center; 
    gap: 8px; 
    cursor: pointer; 
    outline: none;
    font-family: var(--jsi-font-family);
}
.set-button:hover { transform: translateY(-2px); box-shadow: 0 6px 16px rgba(53,53,53,.12) }
.set-button:active { transform: translateY(0); transition-duration: .1s }
.set-button.selected { background-color: var(--jsi-charcoal); color: var(--jsi-white); transform: scale(1.02); box-shadow: 0 8px 24px rgba(53,53,53,.2) }

.category-pill-container { position: relative; overflow: visible }
.category-pill-indicator { position: absolute; transition: all .3s cubic-bezier(.4,0,.2,1); will-change: transform,width }

/* Back-swipe UX helpers */
.animated-screen-container { overscroll-behavior: contain; touch-action: pan-y; }
.gesture-lock { touch-action: none; overscroll-behavior: none; }
.animated-screen-container [data-screen="current"] { will-change: transform; -webkit-transform: translate3d(0,0,0); transform: translate3d(0,0,0); }
.animated-screen-container [data-screen="previous"] { pointer-events: none; -webkit-transform: translate3d(0,0,0); transform: translate3d(0,0,0); }
.swipe-shadow { will-change: opacity; -webkit-transform: translate3d(0,0,0); transform: translate3d(0,0,0); }
@supports (-webkit-touch-callout: none) { .animated-screen-container { -webkit-overflow-scrolling: touch; } .gesture-lock { -webkit-overflow-scrolling: auto; } }
.gesture-lock * { -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; }

/* JSI Input Focus States */
input:focus, textarea:focus, select:focus {
    border-color: var(--jsi-charcoal) !important;
    outline: none;
}

/* JSI Card Hover Overlay */
.jsi-card-overlay {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    background-color: rgba(53, 53, 53, 0);
    transition: background-color 0.3s ease;
    opacity: 0;
    pointer-events: none;
}

.jsi-card-overlay.active {
    background-color: rgba(53, 53, 53, 0.85);
    opacity: 1;
    pointer-events: auto;
}
